<!-- <!doctype html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
  </head>

  <body>
    <p>
      You can execute any Python code. Just enter something in the box below and
      click the button.
    </p>
    <input id="code" value="sum([1, 2, 3, 4, 5])" />
    <button onclick="evaluatePython()">Run</button>
    <br />
    <br />
    <div>Output:</div>
    <textarea id="output" style="width: 100%;" rows="6" disabled></textarea>

    <script>
      const output = document.getElementById("output");
      const code = document.getElementById("code");

      function addToOutput(s) {
        output.value += ">>>" + code.value + "\n" + s + "\n";
      }

      output.value = "Initializing...\n";
      // init Pyodide
      async function main() {
        let pyodide = await loadPyodide();
        output.value += "Ready!\n";
        return pyodide;
      }
      let pyodideReadyPromise = main();

      async function evaluatePython() {
        let pyodide = await pyodideReadyPromise;
        try {
          let output = pyodide.runPython(code.value);
          addToOutput(output);
        } catch (err) {
          addToOutput(err);
        }
      }
    </script>
  </body>
</html> -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tailwind Textarea and Output Layout</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
    </style>
  </head>
  <body class="bg-gray-100">
    <div class="p-4">
      <button onclick="evaluatePython()" class="w-36 rounded bg-black px-4 py-2 font-bold text-white hover:bg-blue-700">Submit</button>
    </div>
    <div class="flex h-screen">
      <div class="flex flex-1 flex-col">
        <div class="flex flex-1 items-center justify-center p-4">
          <textarea id="input" class="h-full w-full rounded-lg border p-4" placeholder="Enter your text here..."></textarea>
        </div>
      </div>
      <div class="flex flex-1 items-center justify-center border-l bg-white p-4">
        <div id="output" class="h-full w-full rounded-lg border p-4"></div>
      </div>
    </div>

    <script>
      const input  = document.getElementById("input");
      const output = document.getElementById("output");

      // function addToOutput(x) {
      //   output.value = x
      // }
      
      async function main() {
        let pyodide  = await loadPyodide();
        output.value = "Ready!\n";
        return pyodide;
      }
      let pyodideReadyPromise = main();
      
      async function evaluatePython() {
        let pyodide = await pyodideReadyPromise;
        try {
          let result = pyodide.runPython(input.value);
          // addToOutput(output);
           output.value = result;
        } catch (err) {
          // addToOutput(err);
           output.value = err;
        }
      }
    </script>
  </body>
</html>

