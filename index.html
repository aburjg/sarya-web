<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sarya Web Interface</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="h-screen flex flex-col">
<!-- items-center -->
<div class="flex-grow flex justify-center p-4">
<div class="w-full max-w-md bg-white rounded-xl shadow-2xl overflow-hidden flex flex-col">

  
<div id="responseArea" class="flex-grow overflow-y-scroll p-4 space-y-4">
<!-- Chat bubbles will go here -->
</div>
  
<div class="p-4">
  

<div class="flex space-x-2">
<input type="text" id="userInput" placeholder="Talk to Sarya..." class="form-input px-4 py-2 w-full border flex-grow rounded-md focus:ring-purple-500 focus:border-purple-500"/>
<button id="sendButton" class="px-4 py-2 bg-purple-700 text-white rounded-md hover:bg-purple-500 focus:outline-none">⚡️</button>
</div>

</div></div></div>

  
<script type="text/javascript">
// Global memory for the chat history
var memory={};
document.getElementById('sendButton').addEventListener('click', sendMessage);

function sendMessage(){var userText = document.getElementById('userInput').value;if(!userText.trim()) return; // Don't send empty messages
// Update UI immediately to show the message being sent
addToChat(userText,'You');
var requestData={"dir":"req","body":[{"type":"Text","content":userText}],"meta":memory};

//fetch('https://corsproxy.io/?https://saryaai.onrender.com/', {
fetch('https://corsproxy.io/?https://saryahai.ikhalid-alrashe.repl.co/', {

method:'POST',headers:{"Accept":"application/json","Content-Type":"application/json","x-version":"2023-06","x-language":"en"},
body:JSON.stringify(requestData),})
.then(response=>response.json())
.then(response=>{response.body.forEach(function(entry){addToChat(entry.content,'Other');
});
memory=response.meta;document.getElementById('userInput').value = ''; // Clear the input after sending
})
.catch(error=>{addToChat("Error occurred.",'Error');
});
}

function addToChat(message,speaker){let chatBubble=document.createElement('div');
chatBubble.innerHTML=
`<div class="${speaker==='You'?'text-right':'text-left'}">
<span class="inline-block bg-gray-100 rounded-full px-4 py-2  text-sm">${message}</span>
</div>`;
document.getElementById('responseArea').appendChild(chatBubble);}

</script></body></html>
